<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/factories/treeFactory.jsx.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">src/factories/</a> treeFactory.jsx.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">96.43% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>27/28</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>18/18</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">75% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>3/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">96.3% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>26/27</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">86×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">85×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">100×</span>
<span class="cline-any cline-yes">297×</span>
<span class="cline-any cline-yes">297×</span>
<span class="cline-any cline-yes">297×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">297×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">291×</span>
<span class="cline-any cline-yes">291×</span>
<span class="cline-any cline-yes">291×</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">define('jpui/factories/treeFactory.jsx', ['require', 'react', '../components/tree/NormalRenderer.jsx'], function (require) {
    var React = require('react');
    var NormalRenderer = require('../components/tree/NormalRenderer.jsx');
    return {
        leafFactory: function leafFactory(me) {
            if (!(me.props.datasource instanceof Array) || !me.props.datasource.length) return null;
            var value = me.___getValue___();
            try {
                value = JSON.parse(value);
            } catch (e) {
                value = {};
            }
            var expand = value.expand || {};
            var result = [];
            addLeaves(me.props.datasource, '');
            return result;
            function addLeaves(arr, level) {
                for (var i = 0; i &lt; arr.length; i++) {
                    var item = JSON.parse(JSON.stringify(arr[i]));
                    var key = level.length ? level + ',' + i : i + '';
                    var props = {
                        key: key,
                        index: key,
                        item: item,
                        value: value,
                        treeComponent: me,
                        disabled: me.props.disabled || item.disabled,
                        onAction: me.props.onAction
                    };
                    if (item.hr) {
                        result.push(React.createElement('hr', props));
                        continue;
                    }
                    var Renderer = typeof me.props.leafRenderer === 'function' ? me.props.leafRenderer : NormalRenderer;
                    result.push(React.createElement(Renderer, props));
                    if (item.children instanceof Array &amp;&amp; expand[item.value]) {
                        addLeaves(item.children, props.index);
                    }
                }
            }
        }
    };
});
&nbsp;
/** d e f i n e */
define('factories/treeFactory.jsx', ['jpui/factories/treeFactory.jsx'], <span class="fstat-no" title="function not covered" >function (target) {</span>
<span class="cstat-no" title="statement not covered" >    return target;</span>
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyZWVGYWN0b3J5LmpzeC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJyZXF1aXJlIiwiUmVhY3QiLCJOb3JtYWxSZW5kZXJlciIsImxlYWZGYWN0b3J5IiwibWUiLCJwcm9wcyIsImRhdGFzb3VyY2UiLCJBcnJheSIsImxlbmd0aCIsInZhbHVlIiwiX19fZ2V0VmFsdWVfX18iLCJKU09OIiwicGFyc2UiLCJlIiwiZXhwYW5kIiwicmVzdWx0IiwiYWRkTGVhdmVzIiwiYXJyIiwibGV2ZWwiLCJpIiwiaXRlbSIsInN0cmluZ2lmeSIsImtleSIsImluZGV4IiwidHJlZUNvbXBvbmVudCIsImRpc2FibGVkIiwib25BY3Rpb24iLCJociIsInB1c2giLCJjcmVhdGVFbGVtZW50IiwiUmVuZGVyZXIiLCJsZWFmUmVuZGVyZXIiLCJjaGlsZHJlbiIsInRhcmdldCJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU8sZ0NBQVAsRUFBeUMsQ0FDckMsU0FEcUMsRUFFckMsT0FGcUMsRUFHckMsdUNBSHFDLENBQXpDLEVBSUcsVUFBVUMsT0FBVixFQUFtQjtBQUNsQixRQUFJQyxRQUFRRCxRQUFRLE9BQVIsQ0FBWjtBQUNBLFFBQUlFLGlCQUFpQkYsUUFBUSx1Q0FBUixDQUFyQjtBQUNBLFdBQU87QUFDSEcscUJBQWEsU0FBU0EsV0FBVCxDQUFxQkMsRUFBckIsRUFBeUI7QUFDbEMsZ0JBQUksRUFBRUEsR0FBR0MsS0FBSCxDQUFTQyxVQUFULFlBQStCQyxLQUFqQyxLQUEyQyxDQUFDSCxHQUFHQyxLQUFILENBQVNDLFVBQVQsQ0FBb0JFLE1BQXBFLEVBQ0ksT0FBTyxJQUFQO0FBQ0osZ0JBQUlDLFFBQVFMLEdBQUdNLGNBQUgsRUFBWjtBQUNBLGdCQUFJO0FBQ0FELHdCQUFRRSxLQUFLQyxLQUFMLENBQVdILEtBQVgsQ0FBUjtBQUNILGFBRkQsQ0FFRSxPQUFPSSxDQUFQLEVBQVU7QUFDUkosd0JBQVEsRUFBUjtBQUNIO0FBQ0QsZ0JBQUlLLFNBQVNMLE1BQU1LLE1BQU4sSUFBZ0IsRUFBN0I7QUFDQSxnQkFBSUMsU0FBUyxFQUFiO0FBQ0FDLHNCQUFVWixHQUFHQyxLQUFILENBQVNDLFVBQW5CLEVBQStCLEVBQS9CO0FBQ0EsbUJBQU9TLE1BQVA7QUFDQSxxQkFBU0MsU0FBVCxDQUFtQkMsR0FBbkIsRUFBd0JDLEtBQXhCLEVBQStCO0FBQzNCLHFCQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSUYsSUFBSVQsTUFBeEIsRUFBZ0NXLEdBQWhDLEVBQXFDO0FBQ2pDLHdCQUFJQyxPQUFPVCxLQUFLQyxLQUFMLENBQVdELEtBQUtVLFNBQUwsQ0FBZUosSUFBSUUsQ0FBSixDQUFmLENBQVgsQ0FBWDtBQUNBLHdCQUFJRyxNQUFNSixNQUFNVixNQUFOLEdBQWVVLFFBQVEsR0FBUixHQUFjQyxDQUE3QixHQUFpQ0EsSUFBSSxFQUEvQztBQUNBLHdCQUFJZCxRQUFRO0FBQ1JpQiw2QkFBS0EsR0FERztBQUVSQywrQkFBT0QsR0FGQztBQUdSRiw4QkFBTUEsSUFIRTtBQUlSWCwrQkFBT0EsS0FKQztBQUtSZSx1Q0FBZXBCLEVBTFA7QUFNUnFCLGtDQUFVckIsR0FBR0MsS0FBSCxDQUFTb0IsUUFBVCxJQUFxQkwsS0FBS0ssUUFONUI7QUFPUkMsa0NBQVV0QixHQUFHQyxLQUFILENBQVNxQjtBQVBYLHFCQUFaO0FBU0Esd0JBQUlOLEtBQUtPLEVBQVQsRUFBYTtBQUNUWiwrQkFBT2EsSUFBUCxDQUFZM0IsTUFBTTRCLGFBQU4sQ0FBb0IsSUFBcEIsRUFBMEJ4QixLQUExQixDQUFaO0FBQ0E7QUFDSDtBQUNELHdCQUFJeUIsV0FBVyxPQUFPMUIsR0FBR0MsS0FBSCxDQUFTMEIsWUFBaEIsS0FBaUMsVUFBakMsR0FBOEMzQixHQUFHQyxLQUFILENBQVMwQixZQUF2RCxHQUFzRTdCLGNBQXJGO0FBQ0FhLDJCQUFPYSxJQUFQLENBQVkzQixNQUFNNEIsYUFBTixDQUFvQkMsUUFBcEIsRUFBOEJ6QixLQUE5QixDQUFaO0FBQ0Esd0JBQUllLEtBQUtZLFFBQUwsWUFBeUJ6QixLQUF6QixJQUFrQ08sT0FBT00sS0FBS1gsS0FBWixDQUF0QyxFQUEwRDtBQUN0RE8sa0NBQVVJLEtBQUtZLFFBQWYsRUFBeUIzQixNQUFNa0IsS0FBL0I7QUFDSDtBQUNKO0FBQ0o7QUFDSjtBQXRDRSxLQUFQO0FBd0NILENBL0NEOztBQWtEQTtBQUNBeEIsT0FBTywyQkFBUCxFQUFvQyxDQUFDLGdDQUFELENBQXBDLEVBQXdFLFVBQVVrQyxNQUFWLEVBQWtCO0FBQUUsV0FBT0EsTUFBUDtBQUFnQixDQUE1RyIsImZpbGUiOiJ0cmVlRmFjdG9yeS5qc3guanMiLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoJ2pwdWkvZmFjdG9yaWVzL3RyZWVGYWN0b3J5LmpzeCcsIFtcbiAgICAncmVxdWlyZScsXG4gICAgJ3JlYWN0JyxcbiAgICAnLi4vY29tcG9uZW50cy90cmVlL05vcm1hbFJlbmRlcmVyLmpzeCdcbl0sIGZ1bmN0aW9uIChyZXF1aXJlKSB7XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbiAgICB2YXIgTm9ybWFsUmVuZGVyZXIgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL3RyZWUvTm9ybWFsUmVuZGVyZXIuanN4Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVhZkZhY3Rvcnk6IGZ1bmN0aW9uIGxlYWZGYWN0b3J5KG1lKSB7XG4gICAgICAgICAgICBpZiAoIShtZS5wcm9wcy5kYXRhc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHx8ICFtZS5wcm9wcy5kYXRhc291cmNlLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1lLl9fX2dldFZhbHVlX19fKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBleHBhbmQgPSB2YWx1ZS5leHBhbmQgfHwge307XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBhZGRMZWF2ZXMobWUucHJvcHMuZGF0YXNvdXJjZSwgJycpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZExlYXZlcyhhcnIsIGxldmVsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycltpXSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gbGV2ZWwubGVuZ3RoID8gbGV2ZWwgKyAnLCcgKyBpIDogaSArICcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZUNvbXBvbmVudDogbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogbWUucHJvcHMuZGlzYWJsZWQgfHwgaXRlbS5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aW9uOiBtZS5wcm9wcy5vbkFjdGlvblxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudCgnaHInLCBwcm9wcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIFJlbmRlcmVyID0gdHlwZW9mIG1lLnByb3BzLmxlYWZSZW5kZXJlciA9PT0gJ2Z1bmN0aW9uJyA/IG1lLnByb3BzLmxlYWZSZW5kZXJlciA6IE5vcm1hbFJlbmRlcmVyO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFJlbmRlcmVyLCBwcm9wcykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiBpbnN0YW5jZW9mIEFycmF5ICYmIGV4cGFuZFtpdGVtLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTGVhdmVzKGl0ZW0uY2hpbGRyZW4sIHByb3BzLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KTtcblxuXG4vKiogZCBlIGYgaSBuIGUgKi9cbmRlZmluZSgnZmFjdG9yaWVzL3RyZWVGYWN0b3J5LmpzeCcsIFsnanB1aS9mYWN0b3JpZXMvdHJlZUZhY3RvcnkuanN4J10sIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldDsgfSk7Il19</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Jun 19 2018 11:30:14 GMT+0800 (CST)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
